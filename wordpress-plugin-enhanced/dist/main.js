var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(n,t,s)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,l=(e,n)=>{for(var t in n||(n={}))r.call(n,t)&&o(e,t,n[t]);if(a)for(var t of a(n))i.call(n,t)&&o(e,t,n[t]);return e},c=(e,s)=>n(e,t(s)),d=(e,n,t)=>new Promise((s,a)=>{var r=e=>{try{o(t.next(e))}catch(n){a(n)}},i=e=>{try{o(t.throw(e))}catch(n){a(n)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,i);o((t=t.apply(e,n)).next())});import{r as u,j as h,P as g,c as m,R as p}from"./index.js";var x,y,j=(x={"main.js"(e){const n=()=>window.fluxSeoData||{ajaxUrl:"/wp-admin/admin-ajax.php",nonce:"",apiUrl:"/wp-json/flux-seo/v1/",pluginUrl:""},t=(t,...s)=>d(e,[t,...s],function*(e,t={}){const s=n(),a=`${s.apiUrl}${e}`,r={method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":s.nonce},credentials:"same-origin"},i=l(l({},r),t);i.body&&"object"==typeof i.body&&(i.body=JSON.stringify(i.body));try{const e=yield fetch(a,i);if(!e.ok)throw new Error(`REST API error! status: ${e.status}`);return yield e.json()}catch(o){throw console.error("REST API call failed:",o),o}}),s=u.createContext(),o=()=>{const e=u.useContext(s);if(!e)throw new Error("useWordPress must be used within a WordPressProvider");return e},x=({children:a})=>{const[r,i]=u.useState(n()),[o,l]=u.useState(null),[c,g]=u.useState(!1),[m,p]=u.useState(null);u.useEffect(()=>{d(e,null,function*(){g(!0);try{const e=(()=>{if(window.wp&&window.wp.data){const e=window.wp.data.select;if(e&&e("core/editor"))return e("core/editor").getCurrentPost()}if(window.post)return window.post;const e=new URLSearchParams(window.location.search).get("post");return e?{ID:e}:null})();l(e);const n=yield t("users/me").catch(()=>null);p(n)}catch(e){console.error("Error initializing WordPress context:",e)}finally{g(!1)}})},[]);const x=(n,...s)=>d(e,[n,...s],function*(e,n={}){g(!0);try{return yield t(e,n)}catch(s){throw console.error("REST API call failed:",s),s}finally{g(!1)}}),y={wpData:r,currentPost:o,user:m,isLoading:c,apiCall:(t,...s)=>d(e,[t,...s],function*(t,s={}){g(!0);try{const a=yield((t,...s)=>d(e,[t,...s],function*(e,t={}){const s=n(),a=new FormData;a.append("action","flux_seo_api"),a.append("flux_action",e),a.append("nonce",s.nonce),Object.keys(t).forEach(e=>{a.append(e,"object"==typeof t[e]?JSON.stringify(t[e]):t[e])});try{const e=yield fetch(s.ajaxUrl,{method:"POST",body:a,credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return yield e.json()}catch(r){throw console.error("WordPress API call failed:",r),r}}))(t,s);return a}catch(a){throw console.error("API call failed:",a),a}finally{g(!1)}}),restApiCall:x,updatePost:(n,t)=>d(e,null,function*(){return yield x(`posts/${n}`,{method:"POST",body:t})}),getPost:n=>d(e,null,function*(){return yield x(`posts/${n}`)}),createPost:n=>d(e,null,function*(){return yield x("posts",{method:"POST",body:n})}),uploadMedia:n=>d(e,null,function*(){const e=new FormData;return e.append("file",n),yield fetch(`${r.apiUrl}media`,{method:"POST",body:e,headers:{"X-WP-Nonce":r.nonce},credentials:"same-origin"}).then(e=>e.json())}),setCurrentPost:l};return h.jsx(s.Provider,{value:y,children:a})},y=new class{constructor(){this.apiKey="AIzaSyDTITCw_UcgzUufrsCFuxp9HXri6Y0XrDo",this.baseUrl="https://generativelanguage.googleapis.com/v1beta",this.model="gemini-2.0-flash-exp",this.supportedLanguages=["th","en"],this.defaultLanguage="en"}generateContent(e){return d(this,arguments,function*(e,n={}){const{language:t=this.defaultLanguage,maxTokens:s=2048,temperature:a=.7,topP:r=.8,topK:i=40,safetySettings:o=this.getDefaultSafetySettings()}=n;try{const n=yield fetch(`${this.baseUrl}/models/${this.model}:generateContent?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:this.formatPromptWithLanguage(e,t)}]}],generationConfig:{maxOutputTokens:s,temperature:a,topP:r,topK:i},safetySettings:o})});if(!n.ok)throw new Error(`Gemini API error: ${n.status} ${n.statusText}`);const l=yield n.json();if(l.candidates&&l.candidates[0]&&l.candidates[0].content)return{success:!0,content:l.candidates[0].content.parts[0].text,usage:l.usageMetadata||{},finishReason:l.candidates[0].finishReason};throw new Error("No content generated or content was blocked")}catch(l){return console.error("Gemini AI Error:",l),{success:!1,error:l.message,content:null}}})}generateBlogPost(e){return d(this,arguments,function*(e,n={}){const{language:t=this.defaultLanguage,wordCount:s=1e3,tone:a="professional",includeOutline:r=!0,targetAudience:i="general",keywords:o=[],includeMetaDescription:l=!0,includeTitle:c=!0}=n,d=`\nCreate a comprehensive blog post about "${e}" with the following specifications:\n\n**Requirements:**\n- Language: ${"th"===t?"Thai":"English"}\n- Word count: approximately ${s} words\n- Tone: ${a}\n- Target audience: ${i}\n- ${o.length>0?`Focus keywords: ${o.join(", ")}`:""}\n\n**Structure needed:**\n${c?"- SEO-optimized title":""}\n${l?"- Meta description (150-160 characters)":""}\n${r?"- Article outline":""}\n- Full article content with proper headings (H2, H3)\n- Introduction that hooks the reader\n- Main content sections with detailed information\n- Conclusion with call-to-action\n- Suggested internal linking opportunities\n\n**SEO Guidelines:**\n- Use the focus keywords naturally throughout the content\n- Include semantic keywords and related terms\n- Optimize for search intent\n- Create engaging, readable content\n- Include actionable insights and practical tips\n\n**Content Guidelines:**\n- Write in ${"th"===t?"Thai language with proper grammar and cultural context":"English with clear, engaging prose"}\n- Use bullet points and numbered lists where appropriate\n- Include relevant examples and case studies\n- Make the content scannable with proper formatting\n- Ensure the content is original and valuable\n\nPlease format the response as JSON with the following structure:\n{\n  "title": "SEO-optimized title",\n  "metaDescription": "Meta description",\n  "outline": ["Outline point 1", "Outline point 2", ...],\n  "content": "Full article content with HTML formatting",\n  "keywords": ["suggested", "keywords"],\n  "readingTime": "estimated reading time",\n  "seoScore": "estimated SEO score out of 100"\n}\n`,u=yield this.generateContent(d,{language:t,maxTokens:4096,temperature:.8});if(u.success)try{const e=u.content.match(/\{[\s\S]*\}/);return e?{success:!0,data:JSON.parse(e[0]),rawContent:u.content}:this.parseStructuredBlogContent(u.content,t)}catch(h){return console.error("JSON parsing failed, using fallback:",h),this.parseStructuredBlogContent(u.content,t)}return u})}generateSEOContent(e){return d(this,arguments,function*(e,n={}){const{language:t=this.defaultLanguage,targetKeywords:s=[],contentType:a="blog post",maxTitleLength:r=60,maxDescriptionLength:i=160}=n,o=`\nAnalyze and optimize the following content for SEO:\n\n**Content to optimize:**\n${e}\n\n**Requirements:**\n- Language: ${"th"===t?"Thai":"English"}\n- Content type: ${a}\n- ${s.length>0?`Target keywords: ${s.join(", ")}`:""}\n\n**Generate the following SEO elements:**\n1. SEO-optimized title (max ${r} characters)\n2. Meta description (max ${i} characters)\n3. Focus keywords (5-10 keywords)\n4. Semantic keywords (related terms)\n5. Content optimization suggestions\n6. Internal linking suggestions\n7. SEO score analysis (out of 100)\n\n**Optimization Guidelines:**\n- Ensure title includes primary keyword naturally\n- Write compelling meta description that encourages clicks\n- Identify keyword opportunities in the content\n- Suggest improvements for readability and SEO\n- Consider search intent and user experience\n- Provide actionable recommendations\n\nPlease format the response as JSON:\n{\n  "title": "Optimized title",\n  "metaDescription": "Optimized meta description",\n  "focusKeywords": ["keyword1", "keyword2", ...],\n  "semanticKeywords": ["related1", "related2", ...],\n  "suggestions": ["suggestion1", "suggestion2", ...],\n  "internalLinks": ["link suggestion1", "link suggestion2", ...],\n  "seoScore": 85,\n  "analysis": {\n    "titleScore": 90,\n    "descriptionScore": 85,\n    "keywordDensity": "2.5%",\n    "readabilityScore": 80,\n    "improvements": ["improvement1", "improvement2", ...]\n  }\n}\n`,l=yield this.generateContent(o,{language:t,maxTokens:2048,temperature:.6});if(l.success)try{const e=l.content.match(/\{[\s\S]*\}/);if(e)return{success:!0,data:JSON.parse(e[0]),rawContent:l.content}}catch(c){console.error("SEO JSON parsing failed:",c)}return l})}generateKeywords(e){return d(this,arguments,function*(e,n={}){const{language:t=this.defaultLanguage,count:s=20,includeSearchVolume:a=!1,difficulty:r="mixed"}=n,i=`\nGenerate a comprehensive list of SEO keywords for the topic: "${e}"\n\n**Requirements:**\n- Language: ${"th"===t?"Thai":"English"}\n- Number of keywords: ${s}\n- Difficulty level: ${r} (easy, medium, hard, or mixed)\n- Include long-tail keywords\n- Include question-based keywords\n- Include local keywords if applicable\n\n**Keyword Categories:**\n1. Primary keywords (high volume, competitive)\n2. Secondary keywords (medium volume, moderate competition)\n3. Long-tail keywords (lower volume, less competitive)\n4. Question keywords (what, how, why, when, where)\n5. Local keywords (if applicable)\n6. Semantic keywords (related terms)\n\n**For each keyword, provide:**\n- Keyword phrase\n- Search intent (informational, commercial, transactional, navigational)\n- Estimated difficulty (1-10 scale)\n- Keyword type (primary, secondary, long-tail, question, local, semantic)\n\nPlease format as JSON:\n{\n  "primaryKeywords": [\n    {\n      "keyword": "keyword phrase",\n      "intent": "search intent",\n      "difficulty": 7,\n      "type": "primary"\n    }\n  ],\n  "secondaryKeywords": [...],\n  "longTailKeywords": [...],\n  "questionKeywords": [...],\n  "localKeywords": [...],\n  "semanticKeywords": [...]\n}\n`,o=yield this.generateContent(i,{language:t,maxTokens:3072,temperature:.7});if(o.success)try{const e=o.content.match(/\{[\s\S]*\}/);if(e)return{success:!0,data:JSON.parse(e[0]),rawContent:o.content}}catch(l){console.error("Keyword JSON parsing failed:",l)}return o})}generateContentOutline(e){return d(this,arguments,function*(e,n={}){const{language:t=this.defaultLanguage,contentType:s="blog post",targetLength:a=1e3,audience:r="general",keywords:i=[]}=n,o=`\nCreate a detailed content outline for: "${e}"\n\n**Specifications:**\n- Language: ${"th"===t?"Thai":"English"}\n- Content type: ${s}\n- Target length: ${a} words\n- Target audience: ${r}\n- ${i.length>0?`Focus keywords: ${i.join(", ")}`:""}\n\n**Outline Requirements:**\n1. Compelling title with keyword optimization\n2. Introduction hook and overview\n3. Main sections with H2 headings\n4. Subsections with H3 headings where needed\n5. Key points to cover in each section\n6. Conclusion with call-to-action\n7. Estimated word count per section\n\n**Additional Elements:**\n- Meta description suggestion\n- Internal linking opportunities\n- External linking suggestions\n- Content gaps to address\n- User intent alignment\n\nFormat as JSON:\n{\n  "title": "Optimized title",\n  "metaDescription": "Meta description",\n  "introduction": {\n    "hook": "Opening hook",\n    "overview": "Section overview",\n    "wordCount": 150\n  },\n  "sections": [\n    {\n      "heading": "H2 heading",\n      "subheadings": ["H3 subheading 1", "H3 subheading 2"],\n      "keyPoints": ["Point 1", "Point 2", "Point 3"],\n      "wordCount": 300,\n      "keywords": ["relevant", "keywords"]\n    }\n  ],\n  "conclusion": {\n    "summary": "Key takeaways",\n    "callToAction": "CTA suggestion",\n    "wordCount": 100\n  },\n  "totalWordCount": 1000,\n  "internalLinks": ["Link suggestion 1", "Link suggestion 2"],\n  "externalLinks": ["Authority source 1", "Authority source 2"]\n}\n`,l=yield this.generateContent(o,{language:t,maxTokens:2048,temperature:.7});if(l.success)try{const e=l.content.match(/\{[\s\S]*\}/);if(e)return{success:!0,data:JSON.parse(e[0]),rawContent:l.content}}catch(c){console.error("Outline JSON parsing failed:",c)}return l})}improveContent(e){return d(this,arguments,function*(e,n={}){const{language:t=this.defaultLanguage,improvementType:s="general",targetKeywords:a=[],tone:r="maintain"}=n,i=`\nImprove the following content based on ${s} optimization:\n\n**Original Content:**\n${e}\n\n**Improvement Requirements:**\n- Language: ${"th"===t?"Thai":"English"}\n- Improvement focus: ${s}\n- Tone: ${"maintain"===r?"maintain original tone":r}\n- ${a.length>0?`Target keywords: ${a.join(", ")}`:""}\n\n**Specific Improvements for ${s}:**\n${this.getImprovementGuidelines(s,t)}\n\n**Provide:**\n1. Improved content with tracked changes\n2. Summary of improvements made\n3. Before/after comparison metrics\n4. Additional suggestions for further optimization\n\nFormat as JSON:\n{\n  "improvedContent": "Enhanced content",\n  "changes": [\n    {\n      "type": "change type",\n      "original": "original text",\n      "improved": "improved text",\n      "reason": "why this change was made"\n    }\n  ],\n  "summary": "Summary of improvements",\n  "metrics": {\n    "readabilityImprovement": "+15%",\n    "seoImprovement": "+20%",\n    "engagementImprovement": "+10%"\n  },\n  "additionalSuggestions": ["suggestion 1", "suggestion 2"]\n}\n`,o=yield this.generateContent(i,{language:t,maxTokens:3072,temperature:.6});if(o.success)try{const e=o.content.match(/\{[\s\S]*\}/);if(e)return{success:!0,data:JSON.parse(e[0]),rawContent:o.content}}catch(l){console.error("Improvement JSON parsing failed:",l)}return o})}formatPromptWithLanguage(e,n){return`${"th"===n?"Please respond in Thai language with proper grammar, cultural context, and natural flow. Use appropriate Thai expressions and terminology.":"Please respond in English with clear, professional language and proper grammar."}\n\n${e}`}getImprovementGuidelines(e,n){const t={general:"\n- Improve clarity and flow\n- Enhance readability\n- Fix grammar and style issues\n- Strengthen weak sections\n- Add relevant examples\n      ",seo:"\n- Optimize keyword placement and density\n- Improve title and headings for SEO\n- Add semantic keywords naturally\n- Enhance meta elements\n- Improve internal linking opportunities\n- Optimize for featured snippets\n      ",readability:"\n- Simplify complex sentences\n- Use shorter paragraphs\n- Add bullet points and lists\n- Improve transitions between sections\n- Use active voice\n- Eliminate jargon and complex terms\n      ",engagement:"\n- Add compelling hooks and openings\n- Include storytelling elements\n- Add questions to engage readers\n- Use emotional triggers appropriately\n- Include actionable advice\n- Add call-to-action elements\n      "};return t[e]||t.general}parseStructuredBlogContent(e,n){var t,s;const a=e.split("\n").filter(e=>e.trim());let r="",i="",o=[],l="";for(let d=0;d<a.length;d++){const e=a[d].trim();if(e.toLowerCase().includes("title:")||e.toLowerCase().includes("หัวข้อ:"))r=(null==(t=e.split(":")[1])?void 0:t.trim())||"";else if(e.toLowerCase().includes("meta description:")||e.toLowerCase().includes("คำอธิบาย:"))i=(null==(s=a[d+1])?void 0:s.trim())||"";else if(e.toLowerCase().includes("outline:")||e.toLowerCase().includes("โครงร่าง:"))for(let n=d+1;n<a.length&&a[n].startsWith("-");n++)o.push(a[n].substring(1).trim())}const c=-1!==e.indexOf("outline:")?e.indexOf("outline:")+e.substring(e.indexOf("outline:")).indexOf("\n"):0;return l=e.substring(c).trim(),{success:!0,data:{title:r||"Generated Content",metaDescription:i||"AI-generated content description",outline:o,content:l,keywords:[],readingTime:Math.ceil(l.split(" ").length/200)+" minutes",seoScore:75},rawContent:e}}getDefaultSafetySettings(){return[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]}isLanguageSupported(e){return this.supportedLanguages.includes(e)}getSupportedLanguages(){return this.supportedLanguages}setDefaultLanguage(e){return!!this.isLanguageSupported(e)&&(this.defaultLanguage=e,!0)}},j=n=>{var t,s,a;const{wpData:r,apiCall:i}=o(),[l,c]=u.useState(""),[g,m]=u.useState("en"),[p,x]=u.useState(!1),[j,v]=u.useState(null),[f,w]=u.useState("content");return h.jsxs("div",{className:"flux-seo-main-component",children:[h.jsxs("div",{className:"header-section",children:[h.jsx("h2",{children:"Flux SEO Scribe Craft"}),h.jsxs("div",{className:"language-selector",children:[h.jsx("label",{htmlFor:"language-select",children:"Language:"}),h.jsxs("select",{id:"language-select",value:g,onChange:e=>m(e.target.value),children:[h.jsx("option",{value:"en",children:"English"}),h.jsx("option",{value:"th",children:"ไทย (Thai)"})]})]})]}),h.jsxs("div",{className:"tab-navigation",children:[h.jsx("button",{className:"tab-btn "+("content"===f?"active":""),onClick:()=>w("content"),children:"Content Editor"}),h.jsx("button",{className:"tab-btn "+("results"===f?"active":""),onClick:()=>w("results"),disabled:!j,children:"SEO Results"})]}),"content"===f&&h.jsxs("div",{className:"content-tab",children:[h.jsxs("div",{className:"content-section",children:[h.jsx("label",{htmlFor:"content-input",children:"th"===g?"เนื้อหา:":"Content:"}),h.jsx("textarea",{id:"content-input",value:l,onChange:e=>c(e.target.value),placeholder:"th"===g?"กรอกเนื้อหาของคุณที่นี่...":"Enter your content here...",rows:15,className:"content-textarea"}),h.jsxs("div",{className:"content-stats",children:[h.jsxs("span",{children:["Words: ",l.split(/\s+/).filter(e=>e.length>0).length]}),h.jsxs("span",{children:["Characters: ",l.length]})]})]}),h.jsxs("div",{className:"actions-section",children:[h.jsx("button",{onClick:()=>d(e,null,function*(){if(l.trim()){x(!0);try{const e=yield y.generateSEOContent(l,{language:g,targetKeywords:[],contentType:"blog post"});e.success?(v(e.data),w("results")):(console.error("SEO generation failed:",e.error),alert("Failed to generate SEO content. Please try again."))}catch(e){console.error("Error generating SEO:",e),alert("An error occurred while generating SEO content.")}finally{x(!1)}}}),disabled:p||!l.trim(),className:"btn primary generate-seo-btn",children:p?"th"===g?"กำลังสร้าง...":"Generating...":"th"===g?"สร้าง SEO":"Generate SEO"}),h.jsx("button",{onClick:()=>d(e,null,function*(){if(l.trim()){x(!0);try{const e=yield y.improveContent(l,{language:g,improvementType:"seo",tone:"maintain"});e.success?(c(e.data.improvedContent),alert("Content improved successfully!")):(console.error("Content improvement failed:",e.error),alert("Failed to improve content. Please try again."))}catch(e){console.error("Error improving content:",e),alert("An error occurred while improving content.")}finally{x(!1)}}}),disabled:p||!l.trim(),className:"btn secondary",children:p?"th"===g?"กำลังปรับปรุง...":"Improving...":"th"===g?"ปรับปรุงเนื้อหา":"Improve Content"}),h.jsx("button",{onClick:()=>d(e,null,function*(){if(l.trim())try{(yield i("save_content",{content:l,seo_data:j,language:g})).success?alert("Content saved successfully!"):alert("Failed to save content.")}catch(e){console.error("Error saving content:",e),alert("An error occurred while saving content.")}}),disabled:!l.trim(),className:"btn success",children:"th"===g?"บันทึก":"Save Content"})]})]}),"results"===f&&j&&h.jsx("div",{className:"results-tab",children:h.jsxs("div",{className:"seo-results",children:[h.jsx("h3",{children:"th"===g?"ผลลัพธ์ SEO":"SEO Results"}),h.jsxs("div",{className:"result-grid",children:[h.jsxs("div",{className:"result-card",children:[h.jsx("h4",{children:"th"===g?"หัวข้อที่ปรับปรุงแล้ว":"Optimized Title"}),h.jsx("p",{className:"result-content",children:j.title}),h.jsxs("div",{className:"result-meta",children:["Length: ",(null==(t=j.title)?void 0:t.length)||0," characters"]})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("h4",{children:"th"===g?"คำอธิบายเมตา":"Meta Description"}),h.jsx("p",{className:"result-content",children:j.metaDescription}),h.jsxs("div",{className:"result-meta",children:["Length: ",(null==(s=j.metaDescription)?void 0:s.length)||0," characters"]})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("h4",{children:"th"===g?"คำสำคัญหลัก":"Focus Keywords"}),h.jsx("div",{className:"keywords-list",children:null==(a=j.focusKeywords)?void 0:a.map((e,n)=>h.jsx("span",{className:"keyword-tag",children:e},n))})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("h4",{children:"th"===g?"คะแนน SEO":"SEO Score"}),h.jsx("div",{className:"score-display",children:h.jsx("div",{className:"score-circle",style:{"--score":j.seoScore||0},children:h.jsx("span",{className:"score-number",children:j.seoScore||0})})})]})]}),j.analysis&&h.jsxs("div",{className:"analysis-section",children:[h.jsx("h4",{children:"th"===g?"การวิเคราะห์":"Analysis"}),h.jsxs("div",{className:"analysis-grid",children:[h.jsxs("div",{className:"analysis-item",children:[h.jsx("span",{className:"label",children:"th"===g?"คะแนนหัวข้อ:":"Title Score:"}),h.jsxs("span",{className:"value",children:[j.analysis.titleScore,"/100"]})]}),h.jsxs("div",{className:"analysis-item",children:[h.jsx("span",{className:"label",children:"th"===g?"คะแนนคำอธิบาย:":"Description Score:"}),h.jsxs("span",{className:"value",children:[j.analysis.descriptionScore,"/100"]})]}),h.jsxs("div",{className:"analysis-item",children:[h.jsx("span",{className:"label",children:"th"===g?"ความหนาแน่นคำสำคัญ:":"Keyword Density:"}),h.jsx("span",{className:"value",children:j.analysis.keywordDensity})]}),h.jsxs("div",{className:"analysis-item",children:[h.jsx("span",{className:"label",children:"th"===g?"คะแนนการอ่าน:":"Readability Score:"}),h.jsxs("span",{className:"value",children:[j.analysis.readabilityScore,"/100"]})]})]})]}),j.suggestions&&j.suggestions.length>0&&h.jsxs("div",{className:"suggestions-section",children:[h.jsx("h4",{children:"th"===g?"ข้อเสนอแนะ":"Suggestions"}),h.jsx("ul",{className:"suggestions-list",children:j.suggestions.map((e,n)=>h.jsx("li",{children:e},n))})]}),j.internalLinks&&j.internalLinks.length>0&&h.jsxs("div",{className:"links-section",children:[h.jsx("h4",{children:"th"===g?"ข้อเสนอแนะลิงก์ภายใน":"Internal Link Suggestions"}),h.jsx("ul",{className:"links-list",children:j.internalLinks.map((e,n)=>h.jsx("li",{children:e},n))})]})]})})]})},v=n=>{const{apiCall:t}=o(),[s,a]=u.useState({title:"",content:"",keywords:"",targetAudience:""}),[r,i]=u.useState(null),[g,m]=u.useState(!1),p=e=>{const{name:n,value:t}=e.target;a(e=>c(l({},e),{[n]:t}))};return h.jsxs("div",{className:"flux-seo-generator",children:[h.jsx("h2",{children:"SEO Content Generator"}),h.jsxs("div",{className:"form-section",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"title",children:"Title:"}),h.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:p,placeholder:"Enter your title..."})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"content",children:"Content:"}),h.jsx("textarea",{id:"content",name:"content",value:s.content,onChange:p,placeholder:"Enter your content...",rows:8})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"keywords",children:"Keywords:"}),h.jsx("input",{type:"text",id:"keywords",name:"keywords",value:s.keywords,onChange:p,placeholder:"Enter keywords separated by commas..."})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"targetAudience",children:"Target Audience:"}),h.jsx("input",{type:"text",id:"targetAudience",name:"targetAudience",value:s.targetAudience,onChange:p,placeholder:"Describe your target audience..."})]}),h.jsx("button",{onClick:()=>d(e,null,function*(){m(!0);try{const e=yield t("generate_seo",s);i(e.data)}catch(e){console.error("Error generating SEO:",e)}finally{m(!1)}}),disabled:g||!s.content.trim(),className:"generate-btn",children:g?"Generating...":"Generate SEO Content"})]}),r&&h.jsxs("div",{className:"results-section",children:[h.jsx("h3",{children:"Generated SEO Content"}),h.jsxs("div",{className:"seo-result",children:[h.jsxs("div",{className:"result-item",children:[h.jsx("strong",{children:"SEO Title:"}),h.jsx("p",{children:r.title})]}),h.jsxs("div",{className:"result-item",children:[h.jsx("strong",{children:"Meta Description:"}),h.jsx("p",{children:r.description})]}),h.jsxs("div",{className:"result-item",children:[h.jsx("strong",{children:"Keywords:"}),h.jsx("p",{children:r.keywords})]})]})]}),h.jsxs("div",{className:"placeholder-notice",children:[h.jsx("h3",{children:"🔄 Component Placeholder"}),h.jsx("p",{children:"Replace this with your actual SEO Generator component."})]})]})},f=n=>{const{apiCall:t}=o(),[s,a]=u.useState(""),[r,i]=u.useState(""),[l,c]=u.useState(!1),[g,m]=u.useState(null);u.useEffect(()=>{n.postId&&p(n.postId)},[n.postId]);const p=n=>d(e,null,function*(){try{const e=yield t("get_content",{post_id:n});e.success&&(a(e.data.content||""),i(e.data.title||""))}catch(e){console.error("Error loading content:",e)}}),x=()=>d(e,null,function*(){c(!0);try{(yield t("save_content",{post_id:n.postId||0,content:s,title:r})).success&&m(new Date)}catch(e){console.error("Error saving content:",e)}finally{c(!1)}}),y=()=>{(s.trim()||r.trim())&&x()};return u.useEffect(()=>{const e=setInterval(y,3e4);return()=>clearInterval(e)},[s,r]),h.jsxs("div",{className:"flux-seo-content-editor",children:[h.jsxs("div",{className:"editor-header",children:[h.jsx("h2",{children:"Content Editor"}),h.jsxs("div",{className:"editor-actions",children:[h.jsx("button",{onClick:x,disabled:l,className:"save-btn",children:l?"Saving...":"Save"}),g&&h.jsxs("span",{className:"last-saved",children:["Last saved: ",g.toLocaleTimeString()]})]})]}),h.jsxs("div",{className:"editor-content",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"title-input",children:"Title:"}),h.jsx("input",{type:"text",id:"title-input",value:r,onChange:e=>i(e.target.value),placeholder:"Enter title...",className:"title-input"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"content-editor",children:"Content:"}),h.jsx("textarea",{id:"content-editor",value:s,onChange:e=>a(e.target.value),placeholder:"Start writing your content...",rows:20,className:"content-textarea"})]})]}),h.jsxs("div",{className:"editor-stats",children:[h.jsxs("div",{className:"stat",children:[h.jsx("strong",{children:"Words:"})," ",s.split(/\s+/).filter(e=>e.length>0).length]}),h.jsxs("div",{className:"stat",children:[h.jsx("strong",{children:"Characters:"})," ",s.length]})]}),h.jsxs("div",{className:"placeholder-notice",children:[h.jsx("h3",{children:"🔄 Component Placeholder"}),h.jsx("p",{children:"Replace this with your actual Content Editor component."}),h.jsx("p",{children:"Consider integrating a rich text editor like TinyMCE or similar."})]})]})},w=n=>{const{apiCall:t}=o(),[s,a]=u.useState({totalPosts:0,seoScore:0,keywords:[],performance:{}}),[r,i]=u.useState(!0);u.useEffect(()=>{l()},[]);const l=()=>d(e,null,function*(){i(!0);try{const e=yield t("get_analytics",{});e.success&&a(e.data)}catch(e){console.error("Error loading analytics:",e)}finally{i(!1)}});return r?h.jsxs("div",{className:"flux-seo-analytics loading",children:[h.jsx("div",{className:"loading-spinner"}),h.jsx("p",{children:"Loading analytics..."})]}):h.jsxs("div",{className:"flux-seo-analytics",children:[h.jsx("h2",{children:"SEO Analytics Dashboard"}),h.jsxs("div",{className:"analytics-grid",children:[h.jsxs("div",{className:"analytics-card",children:[h.jsx("h3",{children:"Total Posts"}),h.jsx("div",{className:"metric-value",children:s.totalPosts})]}),h.jsxs("div",{className:"analytics-card",children:[h.jsx("h3",{children:"Average SEO Score"}),h.jsxs("div",{className:"metric-value",children:[s.seoScore,"%"]}),h.jsx("div",{className:"metric-bar",children:h.jsx("div",{className:"metric-fill",style:{width:`${s.seoScore}%`}})})]}),h.jsxs("div",{className:"analytics-card",children:[h.jsx("h3",{children:"Top Keywords"}),h.jsx("div",{className:"keywords-list",children:s.keywords.slice(0,5).map((e,n)=>h.jsxs("div",{className:"keyword-item",children:[h.jsx("span",{className:"keyword",children:e.term}),h.jsx("span",{className:"count",children:e.count})]},n))})]}),h.jsxs("div",{className:"analytics-card",children:[h.jsx("h3",{children:"Performance Metrics"}),h.jsxs("div",{className:"performance-metrics",children:[h.jsxs("div",{className:"metric",children:[h.jsx("span",{children:"Page Views:"}),h.jsx("span",{children:s.performance.pageViews||0})]}),h.jsxs("div",{className:"metric",children:[h.jsx("span",{children:"Bounce Rate:"}),h.jsxs("span",{children:[s.performance.bounceRate||0,"%"]})]}),h.jsxs("div",{className:"metric",children:[h.jsx("span",{children:"Avg. Session:"}),h.jsxs("span",{children:[s.performance.avgSession||0,"s"]})]})]})]})]}),h.jsx("div",{className:"analytics-charts",children:h.jsxs("div",{className:"chart-container",children:[h.jsx("h3",{children:"SEO Performance Over Time"}),h.jsxs("div",{className:"chart-placeholder",children:[h.jsx("p",{children:"Chart visualization would go here"}),h.jsx("p",{children:"Consider integrating Chart.js or similar library"})]})]})}),h.jsxs("div",{className:"placeholder-notice",children:[h.jsx("h3",{children:"🔄 Component Placeholder"}),h.jsx("p",{children:"Replace this with your actual Analytics Dashboard component."}),h.jsx("p",{children:"Consider integrating with Google Analytics API or similar services."})]})]})},N=()=>{var n,t,s;const{apiCall:a}=o(),[r,i]=u.useState({topic:"",language:"en",wordCount:1e3,tone:"professional",targetAudience:"general",keywords:"",includeOutline:!0,includeMetaDescription:!0,includeTitle:!0}),[g,m]=u.useState(null),[p,x]=u.useState(!1),[j,v]=u.useState(1),f=e=>{const{name:n,value:t,type:s,checked:a}=e.target;i(e=>c(l({},e),{[n]:"checkbox"===s?a:t}))},w=(e,n)=>{m(t=>c(l({},t),{[e]:n}))};return h.jsxs("div",{className:"flux-seo-blog-generator",children:[h.jsxs("div",{className:"generator-header",children:[h.jsx("h2",{children:"th"===r.language?"เครื่องมือสร้างบล็อก AI":"AI Blog Generator"}),h.jsxs("div",{className:"step-indicator",children:[h.jsxs("div",{className:"step "+(j>=1?"active":""),children:[h.jsx("span",{className:"step-number",children:"1"}),h.jsx("span",{className:"step-label",children:"th"===r.language?"ตั้งค่า":"Setup"})]}),h.jsxs("div",{className:"step "+(j>=2?"active":""),children:[h.jsx("span",{className:"step-number",children:"2"}),h.jsx("span",{className:"step-label",children:"th"===r.language?"ผลลัพธ์":"Results"})]})]})]}),1===j&&h.jsxs("div",{className:"setup-step",children:[h.jsxs("div",{className:"form-grid",children:[h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:"th"===r.language?"ข้อมูลพื้นฐาน":"Basic Information"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"topic",children:"th"===r.language?"หัวข้อบล็อก:":"Blog Topic:"}),h.jsx("input",{type:"text",id:"topic",name:"topic",value:r.topic,onChange:f,placeholder:"th"===r.language?'เช่น "วิธีการทำ SEO สำหรับเว็บไซต์"':'e.g., "How to do SEO for websites"',required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"language",children:"th"===r.language?"ภาษา:":"Language:"}),h.jsxs("select",{id:"language",name:"language",value:r.language,onChange:f,children:[h.jsx("option",{value:"en",children:"English"}),h.jsx("option",{value:"th",children:"ไทย (Thai)"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"wordCount",children:"th"===r.language?"จำนวนคำ:":"Word Count:"}),h.jsxs("select",{id:"wordCount",name:"wordCount",value:r.wordCount,onChange:f,children:[h.jsxs("option",{value:"500",children:["500 ","th"===r.language?"คำ":"words"]}),h.jsxs("option",{value:"1000",children:["1,000 ","th"===r.language?"คำ":"words"]}),h.jsxs("option",{value:"1500",children:["1,500 ","th"===r.language?"คำ":"words"]}),h.jsxs("option",{value:"2000",children:["2,000 ","th"===r.language?"คำ":"words"]}),h.jsxs("option",{value:"3000",children:["3,000 ","th"===r.language?"คำ":"words"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"tone",children:"th"===r.language?"โทนการเขียน:":"Writing Tone:"}),h.jsxs("select",{id:"tone",name:"tone",value:r.tone,onChange:f,children:[h.jsx("option",{value:"professional",children:"th"===r.language?"เป็นทางการ":"Professional"}),h.jsx("option",{value:"casual",children:"th"===r.language?"สบายๆ":"Casual"}),h.jsx("option",{value:"friendly",children:"th"===r.language?"เป็นมิตร":"Friendly"}),h.jsx("option",{value:"authoritative",children:"th"===r.language?"มีอำนาจ":"Authoritative"}),h.jsx("option",{value:"conversational",children:"th"===r.language?"สนทนา":"Conversational"})]})]})]}),h.jsxs("div",{className:"form-section",children:[h.jsx("h3",{children:"th"===r.language?"การตั้งค่า SEO":"SEO Settings"}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"targetAudience",children:"th"===r.language?"กลุ่มเป้าหมาย:":"Target Audience:"}),h.jsx("input",{type:"text",id:"targetAudience",name:"targetAudience",value:r.targetAudience,onChange:f,placeholder:"th"===r.language?'เช่น "นักการตลาดดิจิทัล"':'e.g., "Digital marketers"'})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"keywords",children:"th"===r.language?"คำสำคัญ (คั่นด้วยจุลภาค):":"Keywords (comma-separated):"}),h.jsx("textarea",{id:"keywords",name:"keywords",value:r.keywords,onChange:f,placeholder:"th"===r.language?"SEO, การตลาดดิจิทัล, เว็บไซต์":"SEO, digital marketing, website optimization",rows:3})]}),h.jsx("div",{className:"checkbox-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",name:"includeTitle",checked:r.includeTitle,onChange:f}),"th"===r.language?"สร้างหัวข้อที่ปรับปรุง SEO":"Generate SEO-optimized title"]})}),h.jsx("div",{className:"checkbox-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",name:"includeMetaDescription",checked:r.includeMetaDescription,onChange:f}),"th"===r.language?"สร้างคำอธิบายเมตา":"Generate meta description"]})}),h.jsx("div",{className:"checkbox-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",name:"includeOutline",checked:r.includeOutline,onChange:f}),"th"===r.language?"สร้างโครงร่างเนื้อหา":"Generate content outline"]})})]})]}),h.jsx("div",{className:"action-section",children:h.jsx("button",{onClick:()=>d(e,null,function*(){if(r.topic.trim()){x(!0);try{const e=r.keywords.split(",").map(e=>e.trim()).filter(e=>e),n=yield y.generateBlogPost(r.topic,{language:r.language,wordCount:parseInt(r.wordCount),tone:r.tone,includeOutline:r.includeOutline,targetAudience:r.targetAudience,keywords:e,includeMetaDescription:r.includeMetaDescription,includeTitle:r.includeTitle});n.success?(m(n.data),v(2)):(console.error("Blog generation failed:",n.error),alert("th"===r.language?"ไม่สามารถสร้างบล็อกได้ กรุณาลองใหม่อีกครั้ง":"Failed to generate blog. Please try again."))}catch(e){console.error("Error generating blog:",e),alert("th"===r.language?"เกิดข้อผิดพลาดในการสร้างบล็อก":"An error occurred while generating the blog.")}finally{x(!1)}}else alert("th"===r.language?"กรุณากรอกหัวข้อ":"Please enter a topic")}),disabled:p||!r.topic.trim(),className:"btn primary generate-btn",children:p?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"loading-spinner small"}),"th"===r.language?"กำลังสร้างบล็อก...":"Generating Blog..."]}):"th"===r.language?"สร้างบล็อก":"Generate Blog"})})]}),2===j&&g&&h.jsxs("div",{className:"results-step",children:[h.jsxs("div",{className:"results-header",children:[h.jsx("h3",{children:"th"===r.language?"บล็อกที่สร้างขึ้น":"Generated Blog"}),h.jsxs("div",{className:"results-actions",children:[h.jsx("button",{onClick:()=>{m(null),v(1)},className:"btn secondary",children:"th"===r.language?"สร้างใหม่":"Regenerate"}),h.jsx("button",{onClick:()=>d(e,null,function*(){if(g)try{(yield a("save_blog_post",{title:g.title,content:g.content,meta_description:g.metaDescription,keywords:g.keywords,language:r.language,seo_score:g.seoScore})).success?alert("th"===r.language?"บันทึกบล็อกเรียบร้อยแล้ว!":"Blog saved successfully!"):alert("th"===r.language?"ไม่สามารถบันทึกบล็อกได้":"Failed to save blog.")}catch(e){console.error("Error saving blog:",e),alert("th"===r.language?"เกิดข้อผิดพลาดในการบันทึกบล็อก":"An error occurred while saving the blog.")}}),className:"btn success",children:"th"===r.language?"บันทึกบล็อก":"Save Blog"})]})]}),h.jsxs("div",{className:"blog-preview",children:[h.jsxs("div",{className:"preview-section",children:[h.jsx("h4",{children:"th"===r.language?"หัวข้อ":"Title"}),h.jsxs("div",{className:"editable-content",children:[h.jsx("textarea",{value:g.title,onChange:e=>w("title",e.target.value),className:"title-editor",rows:2}),h.jsxs("div",{className:"content-meta",children:["th"===r.language?"ความยาว:":"Length:"," ",(null==(n=g.title)?void 0:n.length)||0," ","th"===r.language?"ตัวอักษร":"characters"]})]})]}),g.metaDescription&&h.jsxs("div",{className:"preview-section",children:[h.jsx("h4",{children:"th"===r.language?"คำอธิบายเมตา":"Meta Description"}),h.jsxs("div",{className:"editable-content",children:[h.jsx("textarea",{value:g.metaDescription,onChange:e=>w("metaDescription",e.target.value),className:"meta-editor",rows:3}),h.jsxs("div",{className:"content-meta",children:["th"===r.language?"ความยาว:":"Length:"," ",(null==(t=g.metaDescription)?void 0:t.length)||0," ","th"===r.language?"ตัวอักษร":"characters"]})]})]}),g.outline&&g.outline.length>0&&h.jsxs("div",{className:"preview-section",children:[h.jsx("h4",{children:"th"===r.language?"โครงร่าง":"Outline"}),h.jsx("div",{className:"outline-list",children:g.outline.map((e,n)=>h.jsxs("div",{className:"outline-item",children:[h.jsxs("span",{className:"outline-number",children:[n+1,"."]}),h.jsx("span",{className:"outline-text",children:e})]},n))})]}),h.jsxs("div",{className:"preview-section",children:[h.jsx("h4",{children:"th"===r.language?"เนื้อหา":"Content"}),h.jsxs("div",{className:"editable-content",children:[h.jsx("textarea",{value:g.content,onChange:e=>w("content",e.target.value),className:"content-editor",rows:20}),h.jsxs("div",{className:"content-meta",children:["th"===r.language?"จำนวนคำ:":"Word count:"," ",(null==(s=g.content)?void 0:s.split(/\s+/).filter(e=>e.length>0).length)||0,g.readingTime&&h.jsxs("span",{children:[" | ","th"===r.language?"เวลาอ่าน:":"Reading time:"," ",g.readingTime]})]})]})]}),g.keywords&&g.keywords.length>0&&h.jsxs("div",{className:"preview-section",children:[h.jsx("h4",{children:"th"===r.language?"คำสำคัญที่แนะนำ":"Suggested Keywords"}),h.jsx("div",{className:"keywords-display",children:g.keywords.map((e,n)=>h.jsx("span",{className:"keyword-tag",children:e},n))})]}),g.seoScore&&h.jsxs("div",{className:"preview-section",children:[h.jsx("h4",{children:"th"===r.language?"คะแนน SEO":"SEO Score"}),h.jsxs("div",{className:"seo-score-display",children:[h.jsx("div",{className:"score-circle",style:{"--score":g.seoScore},children:h.jsx("span",{className:"score-number",children:g.seoScore})}),h.jsx("div",{className:"score-label",children:g.seoScore>=80?h.jsx("span",{className:"score-excellent",children:"th"===r.language?"ยอดเยี่ยม":"Excellent"}):g.seoScore>=60?h.jsx("span",{className:"score-good",children:"th"===r.language?"ดี":"Good"}):h.jsx("span",{className:"score-needs-improvement",children:"th"===r.language?"ต้องปรับปรุง":"Needs Improvement"})})]})]})]})]})]})},S=n=>{var t=n,{component:s="main"}=t,o=((e,n)=>{var t={};for(var s in e)r.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&a)for(var s of a(e))n.indexOf(s)<0&&i.call(e,s)&&(t[s]=e[s]);return t})(t,["component"]);const[c,g]=u.useState(!0),[m,p]=u.useState(null);return u.useEffect(()=>{d(e,null,function*(){try{yield new Promise(e=>setTimeout(e,100)),g(!1)}catch(e){p(e.message),g(!1)}})},[]),c?h.jsxs("div",{className:"flux-seo-loading",children:[h.jsx("div",{className:"loading-spinner"}),h.jsx("p",{children:"Loading Flux SEO..."})]}):m?h.jsxs("div",{className:"flux-seo-error",children:[h.jsx("h3",{children:"Error Loading Component"}),h.jsx("p",{children:m})]}):h.jsx(x,{children:h.jsx("div",{className:"flux-seo-app",children:(()=>{switch(s){case"seo-generator":return h.jsx(v,l({},o));case"content-editor":return h.jsx(f,l({},o));case"analytics":return h.jsx(w,l({},o));case"blog-generator":return h.jsx(N,l({},o));default:return h.jsx(j,l({},o))}})()})})};function b(){document.querySelectorAll(".flux-seo-app-container").forEach(e=>{if(!e.dataset.rendered)try{const n=JSON.parse(e.dataset.component||"{}"),{component:t="main",props:s={}}=n;m.createRoot(e).render(h.jsx(p.StrictMode,{children:h.jsx(S,l({component:t},s))})),e.dataset.rendered="true"}catch(n){console.error("Error rendering Flux SEO component:",n),e.innerHTML='<div class="flux-seo-error">Error loading component</div>'}})}S.propTypes={component:g.string},console.log("Initializing WordPress integration..."),window.addEventListener("error",e=>{console.error("Flux SEO Error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Flux SEO Promise Rejection:",e.reason)}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",b):b(),new MutationObserver(e=>{e.forEach(e=>{"childList"===e.type&&e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(e.querySelectorAll?e.querySelectorAll(".flux-seo-app-container"):[]).length>0&&b()})})}).observe(document.body,{childList:!0,subtree:!0}),window.FluxSeoApp={render:b,React:p,ReactDOM:m}}},function(){return y||(0,x[s(x)[0]])((y={exports:{}}).exports,y),y.exports});export default j();
